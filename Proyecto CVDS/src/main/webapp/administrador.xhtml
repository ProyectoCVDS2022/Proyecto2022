<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="https://www.primefaces.org">

<h:head>

    <script>
        var inputfocused = "nombreBuscar";

        document.getElementById("boton_buscar").onclick = limpiaCampo;

        function limpiaCampo() {
          document.getElementById(inputfocused).value = "";
        }
    </script>9

    <style type = "text/css">

    html { overflow-y: scroll; }

	body {
	    position: absolute;
		width: 100%;
		height:100%;
		font-family: 'Candara';
		font-size: 24px;
		color: white;
	}

	html {
        background: url(fondo.jpg) no-repeat center fixed;
        background-size: cover;
    }

    div.a {
		position: absolute;
		top: 35%;
		left: 35%;
		margin: -150px 0 0 -150px;
		width:800px;
		height:750px;
		background-color: rgba(150,150,150,0.7);
        justify-content: center;
        align-items: center;
        text-align: center;
	}

	div.b {
		position: absolute;
		top: 151%;
		left: 23%;
		margin: -150px 0 0 -150px;
		width:1160px;
		height:650px;
		background-color: rgba(150,150,150,0.7);
        justify-content: center;
        align-items: center;
        text-align: center;
	}

	SELECT {
        color: #787878;
        font-size: 16px;
        margin: 0px 0px 7px 0px;
        padding: 4px 0px 4px 5px;
        width: 200px;
    }

</style>
</h:head>


<h:body>
    <body>
    <script type="text/javascript">
            var ids = new Array();
            function check(id){
                if (document.getElementById('capturarid').checked)
                {
                    ids.push(id);
                    alert(id);
                }
             }
    </script>
    <h:form id="admin_agregar" prependId="false">
        <div class = "a">
            <p:messages>
                <p:autoUpdate />
            </p:messages>

            <h1>Agregar recurso</h1>

            <p:inputText id="id" placeholder="Identificador" required="false" type="String" value="#{adminBean.id}"/>
            <br> </br>
            <p:inputText id="nombre" placeholder="Nombre" required="false" type="String" value="#{adminBean.nombre}"/>
            <br> </br>
            <p:inputText id="capacidad" placeholder="Capacidad" required="false" type="String" value="#{adminBean.capacidad}"/>
            <br> </br>
            <pe:timePicker value="#{timePickerController.time2}" mode="popup" widgetVar="popupTimeWidget"
                           label="Popup time picker"/>
            <br> </br>
            <p:datePicker id="horafin" placeholder="Hora de fin" value="#{calendarView.date14}" timeOnly="true" pattern="HH:mm"/>
            <br> </br>
            <p:inputText id="observaciones" placeholder="Observaciones" required="false" type="String" value="#{adminBean.observaciones}"/>
            <br> </br>
            <select name="tipo" id="tipo">
                <option> - Tipo de recurso - </option>
                <option value="libro">Libro</option>
                <option value="sala">Sala de estudio</option>
                <option value="pc">Computador</option>
                <option value="equipo">Equipo multimedia</option>
            </select>
            <br> </br>
            <p:inputText id="ubicacion" placeholder="Ubicacion" required="false" type="String" value="#{adminBean.ubicacion}"/>
            <br> </br>
            <p:commandButton id="boton_agregar" value="Agregar" actionListener="#{adminBean.agregarRecurso()}"/>

        </div>
    </h:form>

    <h:form id="admin_cambiar" prependId="false">
        <div class = "b">
            <h1>Editar disponibilidad de recursos</h1>
            <br></br>
            <p:outputLabel for="@next" value="Nombre del recurso: " />
            <p:inputText id="nombreBuscar" required="false" type="String" value="#{adminBean.nombreBuscar}"/>
            <br> </br>
            <p:commandButton id="boton_buscar" value="Buscar" onclick="window.location.reload();" actionListener="#{adminBean.buscarRecursos()}"/>
            <br> </br>
            <p:dataTable id="resultado" var="recurso" value="#{adminBean.buscarRecursos()}" selection="#{adminBean.recursosSeleccionados}" rowKey="#{recurso.id}"
                         style="margin-bottom:0" selectionPageOnly="false">
                <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                <p:column headerText="ID">
                    <h:outputText value="#{recurso.id}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{recurso.nombre}" />
                </p:column>
                <p:column headerText="Capacidad">
                    <h:outputText value="#{recurso.capacidad}" />
                </p:column>
                <p:column headerText="Hora de inicio">
                    <h:outputText value="#{recurso.fechaInicio}" />
                </p:column>
                <p:column headerText="Hora de finalización">
                    <h:outputText value="#{recurso.fechaFin}" />
                </p:column>
                <p:column headerText="Disponibilidad">
                    <h:outputText value="#{recurso.disponibilidad}" />
                </p:column>
                <p:column headerText="Observaciones">
                    <h:outputText value="#{recurso.observaciones}" />
                </p:column>
                <p:column headerText="Tipo">
                    <h:outputText value="#{recurso.tipo}" />
                </p:column>
                <p:column headerText="Ubicación">
                    <h:outputText value="#{recurso.ubicacion}" />
                </p:column>
            </p:dataTable>
            <br> </br>
            <h:selectOneMenu name="tipo" hideNoSelectionOption="#{not empty selectOneMenuView.hideNoSelectOption}" value="#{adminBean.nuevaDisponibilidad}" >
                <p:ajax update="@this" process="@this"/>
                <f:selectItem itemLabel="- Estado -" itemValue="#{null}" noSelectionOption="true"/>
                <f:selectItem itemValue = "Disponible" itemLabel = "Disponible" />
                <f:selectItem itemValue = "No disponible" itemLabel = "No disponible" />
            </h:selectOneMenu>
            <br> </br>
            <p:commandButton id="boton_cambiar" value="Cambiar disponibilidad" onclick="window.location.reload();" actionListener="#{adminBean.cambiarDisponibilidad()}"/>

        </div>

    </h:form>

    </body>
</h:body>
</html>
