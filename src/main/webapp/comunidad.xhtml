<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <style type = "text/css">

	body {
		width: 100%;
		height:100%;
		font-family: 'Candara';
		font-size: 24px;
		color: white;
	}

	html {
        background: url(fondo.jpg) no-repeat center fixed;
        background-size: cover;
}

    div.a {
		position: absolute;
		top: 40%;
		left: 21%;
		margin: -150px 0 0 -150px;
		width:1200px;
		height:450px;
		background-color: rgba(170,170,170,0.6);
        justify-content: center;
        align-items: center;
        text-align: center;
	}

	SELECT {
        color: #000000;
        font-size: 16px;
        margin: 0px 0px 7px 0px;
        padding: 4px 0px 4px 5px;
        width: 200px;
    }

</style>
</h:head>


<h:body>
    <body>
    <h:form id="buscar_recursos" prependId="false">
        <div class = "a">
            <p:messages>
                <p:autoUpdate />
            </p:messages>

            <h1>Reservar recursos</h1>

            <p:outputLabel for="@next" value="Buscar por: " />

            <br> </br>
            <p:commandButton id="boton_buscar" value="Buscar" update="resultado" actionListener="#{comunidadBean.buscarRecursos()}"/>
            <br> </br>
            <p:dataTable id="resultado" var="recurso" rows="10" paginator="true"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         value="#{comunidadBean.buscarRecursos()}" selection="#{comunidadBean.recursosSeleccionados}" rowKey="#{recurso.id}"
                         style="margin-bottom:0" selectionPageOnly="false">

                <f:facet name="header">
                    <p:outputPanel>
                        <h:selectOneMenu name="filtro" value="#{comunidadBean.filtro}" update="resultado">
                            <f:selectItem itemLabel="- Filtro -" itemValue="#{null}" noSelectionOption="true"/>
                            <f:selectItem itemValue = "1" itemLabel = "Mostrar todos" />
                            <f:selectItem itemValue = "2" itemLabel = "Disponibles" />
                            <f:selectItem itemValue = "3" itemLabel = "Libros" />
                            <f:selectItem itemValue = "4" itemLabel = "Portatiles" />
                            <f:selectItem itemValue = "5" itemLabel = "Computadores de escritorio" />
                            <f:selectItem itemValue = "6" itemLabel = "Salas de estudio" />
                        </h:selectOneMenu>
                    </p:outputPanel>
                </f:facet>

                <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                <p:column headerText="ID">
                    <h:outputText value="#{recurso.id}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{recurso.nombre}" />
                </p:column>
                <p:column headerText="Capacidad">
                    <h:outputText value="#{recurso.capacidad}" />
                </p:column>
                <p:column headerText="Hora de inicio">
                    <h:outputText value="#{recurso.fechaInicio}" />
                </p:column>
                <p:column headerText="Hora de finalización">
                    <h:outputText value="#{recurso.fechaFin}" />
                </p:column>
                <p:column headerText="Disponibilidad">
                    <h:outputText value="#{recurso.disponibilidad}" />
                </p:column>
                <p:column headerText="Observaciones">
                    <h:outputText value="#{recurso.observaciones}" />
                </p:column>
                <p:column headerText="Ubicación">
                    <h:outputText value="#{recurso.ubicacion}" />
                </p:column>
            </p:dataTable>

        </div>

    </h:form>
    </body>
</h:body>

</html>